# Copyright 2025 The Chromium Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

# Step A produces out0 and out1
# Step B depends on out0, but implicitly access out1 and produces out2
# so, Step A remote, step B local, output_strategy_minimum would fail
# in Step B, because out0 is flushed for Step B, but out1 is not.

rule A
  command = python3 ../../action.py --input input --output out0 --output1 out1

rule B
  command = python3 ../../action.py --input out1 --output out2

build out0 out1: A ../../input
build out2: B out0
default out2

